;/*FB_PKG_DELIM*/

__d("EmojiFormat.bs",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a.split("_").map(function(a){return parseInt(a,16)})}function a(a){return a.map(function(a){return a.toString(16)}).join("_")}function h(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}function b(a){return h(g(a))}f.codeStringToCodeArray=g;f.codeArrayToCodeString=a;f.codeArrayToUnicode=h;f.codeStringToUnicode=b}),66);
__d("LSEmojiSetsType",[],(function(a,b,c,d,e,f){a=Object.freeze({USER_GENERATED:0,RECENTLY_USED:1});f["default"]=a}),66);
__d("LSShimThreadPinMessage.nop",["FBLogger","I64","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j){if(j==null){c("FBLogger")("messenger_web_pinned_messages").warn("threadKey is null in LSShimThreadPinMessage");return}e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.client_web_pinned_messages).getKeyRange(j,f)));yield (i||(i=b("Promise"))).all(e.map(function(b){return a.client_web_pinned_messages["delete"](b.threadKey,b.offlineThreadingId,b.pinnedTimestampMs)}));yield a.client_web_pinned_messages.put({offlineThreadingId:f,pinnedTimestampMs:g||(h||(h=d("I64"))).of_float(Date.now()),threadKey:j})});function e(b,c,d,e,f){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSShimThreadUnpinMessage.nop",["FBLogger","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(g==null){c("FBLogger")("messenger_web_pinned_messages").warn("threadKey is null in LSShimThreadUnpinMessage");return}e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.client_web_pinned_messages).getKeyRange(g,f)));yield (h||(h=b("Promise"))).all(e.map(function(b){return a.client_web_pinned_messages["delete"](b.threadKey,b.offlineThreadingId,b.pinnedTimestampMs)}))});function e(b,c,d,e){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSOptimisticSetOrUnsetPinnedMessage",["LSIssueNewTask","LSShimThreadPinMessage.nop","LSShimThreadUnpinMessage.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.neq(a[1],void 0)?c.i64.eq(a[3],c.i64.cast([0,1]))||c.i64.eq(a[3],c.i64.cast([0,2]))?c.sequence([function(d){return c.nativeOperation(b("LSShimThreadPinMessage.nop"),a[0],a[2],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_pin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1010]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(d){return c.nativeOperation(b("LSShimThreadUnpinMessage.nop"),a[0],a[1])},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("armadillo_thread_key",a[1]),d[2].set("offline_threading_id",a[0]),d[2].set("timestamp_ms",a[2]),d[2].set("sync_group",d[0]),d[3]=d[2].get("timestamp_ms"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),["e2ee_unpin_msg","_",c.i64.to_string(d[3])].join(""),c.i64.cast([0,1011]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxOptimisticSetOrUnsetPinnedMessageStoredProcedure";e.exports=a}),null);
__d("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure",["LSOptimisticSetOrUnsetPinnedMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.offlineThreadingId;d[1]=b.threadKey;d[2]=b.timestampMs;d[3]=b.state;return c("LSOptimisticSetOrUnsetPinnedMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSPresenceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,ACTIVE:2});f["default"]=a}),66);
__d("MWXMessageBubbleCornerStyles.react",[],(function(a,b,c,d,e,f,g){"use strict";var h={flatBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},flatTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},rounded:{borderTopStartRadius:"xp5s12f",borderTopEndRadius:"x11ucwad",borderBottomEndRadius:"xgtuqic",borderBottomStartRadius:"x155c047",$$css:!0}},i={connectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0}},j={connectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b,c,d,e;b=(b=a==null?void 0:a.align)!=null?b:"left";c=(c=a==null?void 0:a.connectBottom)!=null?c:!1;d=(d=a==null?void 0:a.connectTop)!=null?d:!1;e=(e=a==null?void 0:a.flatten)!=null?e:"none";a=(a=a==null?void 0:a.corners)!=null?a:"round";b=b==="right"?j:i;return[a==="round"&&h.rounded,d&&b.connectTop,c&&b.connectBottom,(e==="all"||e==="bottom")&&h.flatBottom,(e==="all"||e==="top")&&h.flatTop]}g.getMWXBubbleCornerStyles=a}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MDSSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","XPlatReactEnvironment","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("XPlatReactEnvironment").isWeb(),k={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},l={bubble:{color:"x14ctfv",maxWidth:"x1okitfd",outline:"x1k4qllp",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",paddingStart:"x12xxe5f",paddingLeft:null,paddingRight:null,paddingEnd:"x1szedp3",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},n={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderEndColor:"x154zaqr",borderBottomColor:"x12z03op",borderStartColor:"xyhp3ou",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x12lizq0",borderEndWidth:"xf766zg",borderBottomWidth:"x1ybe9c6",borderStartWidth:"x1ts5dru",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},o={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}};function a(a){var b,c=a.align,e=a.children,f=a.color,g=a.connectBottom,h=a.connectTop,p=a.xmaLayout;p=p===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:p;var q=a.xstyle,r=a.precedesXMA,s=a.testid;s=a.variant;a=p!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&r===!0;p=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:c,connectBottom:g,connectTop:h,flatten:a?"bottom":"none"});r=f==="incoming"?m:f==="outgoing"?n:o;return i.jsx(d("react-strict-dom").html.div,{style:[l.clip,a&&j&&k.precedes_xma_web],children:i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:[l.bubble,j&&l.bubbleWeb,a&&k.precedes_xma,a&&j&&k.precedes_xma_web,r.background,s==="opaque"&&r.opaque,p,q],children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};f.empty=c}),66);
__d("MWChatIsMessageRequest",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!=null)if(a==="pending")return!0;else if(a==="other")return!c("CurrentUser").isWorkUser();else return!1;else return!1}g.fn=a}),98);
__d("MWChatMessengerReactionsUtils",["EmojiFormat.bs","I64","LSEmojiSetsType","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=[{categoryIdx:(h||(h=d("I64"))).of_string("6"),emoji:"\u2764",emojiIdx:h.zero,sortKey:h.zero,type_:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude06",emojiIdx:h.of_string("4"),sortKey:h.one,type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude2e",emojiIdx:h.of_string("84"),sortKey:h.of_string("2"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude22",emojiIdx:h.of_string("48"),sortKey:h.of_string("3"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\ude21",emojiIdx:h.of_string("52"),sortKey:h.of_string("4"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\udc4d",emojiIdx:h.of_string("131"),sortKey:h.of_string("5"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)},{categoryIdx:h.zero,emoji:"\ud83d\udc4e",emojiIdx:h.of_string("132"),sortKey:h.of_string("6"),type_:i.ofNumber(c("LSEmojiSetsType").USER_GENERATED)}];e=b.slice(0,6);var j=d("EmojiFormat.bs").codeArrayToUnicode([10084,65039]),k=d("EmojiFormat.bs").codeArrayToUnicode([10084]);function a(a){if(a===j)return!0;else return a===k}f=6;g.defaultStaticReactions=b;g.defaultCustomizableReactions=e;g.heartType1=j;g.heartType2=k;g.isHeart=a;g.cUSTOM_REACTIONS_NUM=f}),98);
__d("MWChatReactionEmoji",["cr:4707"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:4707")}),98);
__d("MWChatReactionsUtils",["MetaConfig","cr:3890"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("MetaConfig")._("58");return new Set(a.split(",").map(function(a){return{codepoints:[a.codePointAt(0)],id:a}}))}g.cUSTOM_REACTIONS_NUM=(d=b("cr:3890")).cUSTOM_REACTIONS_NUM;g.defaultStaticReactions=d.defaultStaticReactions;g.defaultCustomizableReactions=d.defaultCustomizableReactions;g.heartType1=d.heartType1;g.heartType2=d.heartType2;g.isHeart=d.isHeart;g.getHarmfulEmojisForBroadcastChannels=a}),98);
__d("MWGetLSThreadReportingTokenFromThread",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSThreadBitOffset").has(17,a);if(b)return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)?window.btoa("message_thread:encrypted"):window.btoa("message_thread:"+(h||(h=d("I64"))).to_string(a.threadKey))}g["default"]=a}),98);
__d("getMWLSOngoingCallServerInfoData",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("ReQL").fromTableAscending(a.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})}g["default"]=a}),98);
__d("getRTCCallStateOfLSRTCCallState",["FBLogger","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===2?!0:a===8}function a(a,b){switch(a){case c("LSRtcCallState").AUDIO_1TO1_CALL:return"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_1TO1_CALL:return"VIDEO_1TO1_CALL";case c("LSRtcCallState").NO_ONGOING_CALL:return"NO_ONGOING_CALL";case c("LSRtcCallState").AUDIO_GROUP_CALL:return h(b)?"AUDIO_GROUP_CALL":"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_GROUP_CALL:return h(b)?"VIDEO_GROUP_CALL":"VIDEO_1TO1_CALL";default:c("FBLogger")("ls_web_ux").mustfix("Unknown RTCCallState: %sL and threadType %sL",a,b);return"NO_ONGOING_CALL"}}g["default"]=a}),98);
__d("useMWLSGetOngoingCallState",["MWLSThread","MWThreadKey.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("MWLSThread").useThread(a,function(a){return a.ongoingCallState})}g["default"]=a}),98);
__d("useRTWebOutgoingGroupCallDialog",["JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef,k=c("JSResourceForInteraction")("RTWebCometOutgoingGroupCallContentLS.react").__setRef("useRTWebOutgoingGroupCallDialog");function a(){var a=j(!1),b=c("useMWXLazyDialog")(k),d=b[0];return i(function(b){a.current||(a.current=!0,d(b,function(){a.current=!1}))},[a,d])}g["default"]=a}),98);
__d("useRTWebOutgoingUnsupportedBrowserDialog",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("JSResourceForInteraction")("RTWebOutgoingUnsupportedBrowserDialogWrapper.react").__setRef("useRTWebOutgoingUnsupportedBrowserDialog");function a(){var a=c("useCometLazyDialog")(j),b=a[0];return i(function(a){b(a)},[b])}g["default"]=a}),98);
__d("useRTWebCometStartCallCallback",["Actor","RTWebPreCallHooks","react","useRTWebOutgoingGroupCallDialog","useRTWebOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;e=d("RTWebPreCallHooks").createInviteAndStartCallCallbackHook(a,b);function a(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingGroupCallDialog")();return i(function(a,c){var d=a.thread.id;a=a.trigger;e({onCall:c,threadID:d,trigger:a,viewer:b})},[e,b])}function b(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingUnsupportedBrowserDialog")();return i(function(a){a=a.thread;var c=a.id;a=a.type;e({actorID:b,threadID:c,threadType:a})},[b,e])}g["default"]=e}),98);
__d("MWLSStartPhoneCall",["$InternalEnum","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","MWPActor.react","MWThreadKey.react","Promise","ReQL","getMWLSOngoingCallServerInfoData","getRTCCallStateOfLSRTCCallState","promiseDone","recoverableViolation","useMWLSGetOngoingCallState","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=b("$InternalEnum").Mirrored(["OngoingVideoCall","OngoingAudioCall"]);function a(){var a=(k||(k=c("useReStore")))(),e=c("useRTWebCometStartCallCallback")(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWLSGetOngoingCallState")(),m=d("MWPActor.react").useActor(),n=d("Int64Hooks").useCallbackInt64(function(k,l,n,o){var p=k?"video":"audio";c("promiseDone")((j||(j=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(f).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,m)}).map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)})),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(f).map(function(a){return a.jid}))]).then(function(k){var m=k[0],q=k[1],r=k[2];if(m==null){c("recoverableViolation")("Cannot find thread when trying to call someone","rtc_www");return}return d("ReQL").firstAsync(c("getMWLSOngoingCallServerInfoData")(a,f)).then(function(a){return(j||(j=b("Promise"))).resolve(e({existingCall:g!=null&&a!=null?{call_state:c("getRTCCallStateOfLSRTCCallState")((i||(i=d("LSIntEnum"))).unwrapIntEnum(g),(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)),initiator_fbid:null,server_info_data:a}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),mediaType:p,representedID:o,thread:{e2eeThreadID:r==null?void 0:(h||(h=d("I64"))).to_string(r),id:l,secureOneToOneThreadPeerId:q!=null&&(h||(h=d("I64"))).equal(m.threadType,(i||(i=d("LSIntEnum"))).ofNumber(15))?q:void 0,type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)},trigger:n}))})}),void 0,function(a){c("recoverableViolation")("Error making a phone call","rtc_www",{error:a.Error})})},[m,e,f,a,g]),o=void 0;g!=null&&(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?o=l.OngoingAudioCall:g!=null&&(h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))&&(o=l.OngoingVideoCall);return[n,o]}g.useMakeRTCCall=a}),98);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||d("react");var j="messages_table";a=function(a,b,c){return c.getAttribute("data-scope")===j};b=d("FocusTable.react").createFocusTable(a);e={key:c("CometKeys").UP};f={key:c("CometKeys").DOWN};d={key:c("CometKeys").LEFT};var k={key:c("CometKeys").RIGHT};e=[{command:e,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")},{command:f,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:d,description:h._("__JHASH__6tFY25IlnV4__JHASH__"),handler:c("emptyFunction")},{command:k,description:h._("__JHASH__HYvhkJNYo2M__JHASH__"),handler:c("emptyFunction")}];g.scopeID=j;g.scopeQuery=a;g.FocusTable=b;g.commandConfigs=e}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var k={key:c("CometKeys").ESCAPE},l={key:c("CometKeys").ENTER},m={key:c("CometKeys").SPACE},n=h._("__JHASH__dr5LK8JTLfs__JHASH__"),o=h._("__JHASH__NgBmedKphX2__JHASH__");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!=null&&g.push({command:k,description:n,handler:f});e!=null&&g.push({command:l,description:o,handler:e});a!=null&&g.push({command:m,description:o,handler:a});return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.react").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.FocusTable=b;g.keyCommands=e}),226);
__d("MWPMessageListColumn.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(a){return[{height:"x1jwls1v",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:"initial"}(a)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function k(a){var b=a.bubble,c=a.centered,e=a.children,f=a.grow,g=a.justifyContent,h=a.paint,k=a.profile;a.rounded;var l=a.selfCentered,m=a.shrinkwrap;a=a.withGutters;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.root,f===!0?j.grow:!1,m===!0?j.shrinkwrap:!1,h===!0?j.paint:!1,k===!0?j.profile:!1,a===!0?j.withGutters:!1,b===!0?j.bubble:!1,c===!0?j.centered:!1,l===!0?j.selfCentered:!1,g==="flex-start"?j.justifyContentStart:!1],children:e})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return i.jsx(k,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return i.jsx(k,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function c(a){var b=a.centered,c=a.children;a=a.paint;return i.jsx(k,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}c.displayName=c.name+" [from "+f.id+"]";function e(a){var b=a.children;a=a.paint;a=a===void 0?!0:a;return i.jsx(k,{grow:!0,paint:a,children:b})}e.displayName=e.name+" [from "+f.id+"]";function l(a){a=a.children;return i.jsx(k,{grow:!0,justifyContent:"flex-start",paint:!0,children:a})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.children;a=a.paint;return i.jsx(k,{bubble:!0,paint:a,children:b})}m.displayName=m.name+" [from "+f.id+"]";function n(){return i.jsx(d("react-strict-dom").html.div,{role:"none",style:j.spacer})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.height;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.vr,j.customHeight(a)]})}o.displayName=o.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnShrinkwrap=c;g.MWPMessageListColumnGrow=e;g.MWPMessageListColumnGrowJustified=l;g.MWPMessageListColumnBubble=m;g.MWPMessageListColumnHorizontalSpacer=n;g.MWPMessageListColumnVerticalRhythm=o}),98);
__d("useMWPEditMessageDeemphasizer",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{filter:"x4xejrh",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;b=(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a;return b?j.deemphasize:null}g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,e=a.domElementRef;a=a.focusCellOnRender;var f=a===void 0?!1:a;a=c("useMAWEditMessageData")();var g=a!=null;a=c("useMWPEditMessageDeemphasizer")();var i=l(null);k(function(){if(f){var a;(a=i.current)==null?void 0:a.focus();(a=i.current)==null?void 0:a.scrollIntoView()}},[f]);return j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",{className:(h||(h=c("stylex")))(a),ref:e,role:"row",children:j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return j.jsxs("div",{className:(h||(h=c("stylex")))(m.row,e?m.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:i,role:"gridcell",tabIndex:g?-1:0,children:[b,j.jsx(c("MWEditMessageOverlay.react"),{})]})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubble.react",["MDSSolidMessageBubble.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSSolidMessageBubble.react")}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometOverlappingFacepile.react","CometScreenReaderText.react","I64","LSIntEnum","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","MWXMessageBubble.react","ReQL","ReQLSuspense","ServerTime","clearTimeout","getLSMediaContactProfilePictureUrl","isEmpty","react","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.useEffect,q=e.useMemo,r=e.useState,s={root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function t(a,b){a=a==null?void 0:a.nickname;return a!=null?a:(a=b.firstName)!=null?a:b.name}function u(a,b){b===void 0&&(b=!1);var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.typing_indicator).getKeyRange(a).filter(function(a){return d("ServerTime").getMillis()<(l||(l=d("I64"))).to_float(a.expirationTimestampMs)}).map(function(g){var h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.presence_states).getKeyRange(g.senderId),f.id+":105");if(!b||h!=null&&(l||(l=d("I64"))).equal(h.status,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPresenceStatus").ACTIVE))){h=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a,g.senderId),f.id+":121");var i=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(g.senderId),f.id+":128");if(i!=null)return[h,i,g]}return}).filter(Boolean).take(3)},[e,a,b],f.id+":94");return g.filter(Boolean)}function v(a){return q(function(){if((j||(j=c("isEmpty")))(a))return"";var b=a[0],d=b[0],e=b[1];b[2];b=a.slice(1);return(j||(j=c("isEmpty")))(b)?h._("__JHASH__Tbm_Qb_Y-B5__JHASH__",[h._param("The participants name",t(d,e))]):h._("__JHASH__YLfbVFP1cLb__JHASH__")},[a])}function a(a){var b=a.length>0,e=b?a.reduce(function(a,b){b[0];b[1];b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))},0):0;a=r(e>d("ServerTime").getMillis());var f=a[0],g=a[1];p(function(){if(b){g(e>d("ServerTime").getMillis());var a=e-d("ServerTime").getMillis(),f=c("setTimeout")(function(){return g(!1)},a);return function(){c("clearTimeout")(f)}}},[e,g,b]);return b&&f}function w(a){var b=a.containerStyle,e=a.threadType;a=a.typingParticipants;var f=a.reduce(function(a,b){b[0];b[1];b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))},0),g=r(function(){return f>d("ServerTime").getMillis()}),h=g[0],i=g[1];p(function(){i(function(){return f>d("ServerTime").getMillis()});var a=f-d("ServerTime").getMillis(),b=c("setTimeout")(function(){return i(!1)},a);return function(){c("clearTimeout")(b)}},[f,i]);if(h)return o.jsxs("div",{"aria-hidden":!0,className:(k||(k=c("stylex")))(s.root,b),children:[o.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{selfCentered:!0,children:o.jsx(c("CometOverlappingFacepile.react"),{items:a.map(function(a){a[0];var b=a[1];a[2];return{source:{uri:c("getLSMediaContactProfilePictureUrl")(b)}}}),size:28})}),o.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,precedesXMA:!1,children:o.jsx(c("MWChatTypingIndicator.react"),{threadType:e})})]});else return null}w.displayName=w.name+" [from "+f.id+"]";function b(a){var b=a.checkPresenceSettings;b=b===void 0?!1:b;var e=a.containerStyle,f=a.theme,g=a.threadKey;a=a.threadType;f=f||d("MWBaseTheme").empty;g=u(g,b);b=v(g);return g.length>0?o.jsx(c("BaseTheme.react"),{config:f,children:o.jsx(c("MWV2MessageRowSimple.react"),{children:o.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[o.jsx("div",{"aria-live":"polite",className:"xnezbuk x1q0q8m5 xso031l",children:o.jsx(c("CometScreenReaderText.react"),{text:b})}),o.jsx(w,{containerStyle:e,threadType:a,typingParticipants:g})]})})}):null}b.displayName=b.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(b);g.useTypingParticipants=u;g.useAccessibilityText=v;g.useShouldShowTypingIndicator=a;g.MWPTypingIndicators=e}),226);
__d("MWSeparatorContainer.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.beforeContent,c=a.children,e=a.separator;a=a.xstyle;c=i.Children.toArray(c).filter(Boolean);return c.length===0?null:i.jsxs(i.Fragment,{children:[(b=b)!=null?b:null,i.jsx(d("react-strict-dom").html.div,{style:a,children:c.map(function(a,b){return i.jsxs(i.Fragment,{children:[b!==0&&e,a]},"item-"+b)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i=c("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),k=i("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),l=i("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=i("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),n=i("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),o=i("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),p=i("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),q=i("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function r(a){switch(a.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function a(a,b,e){m.onReady(function(f){f.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:e,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:e!=null?e:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function b(a,b){p.onReady(function(e){e.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function e(a,b,e,f){o.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function f(a,b,e,f){n.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function s(a,b){q.onReady(function(c){c.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:b,request_id:void 0}})})}function t(a,b,c,d,e){l.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function u(a,b,c,d,e){j.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function v(a,b,c){k.onReady(function(d){d.log(function(){return{action:b,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:c,request_id:void 0}})})}g.logMessageRequestInfoShown=a;g.logDenialOptionsTapped=b;g.logActionTapped=e;g.logActionConfirmed=f;g.logMessageRequestsView=s;g.logMessageRequestsBulkActionTapped=t;g.logMessageRequestsBulkActionConfirmed=u;g.logMessageRequestsBulkActionEdit=v}),98);
__d("XMessengerHelpCenterContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/help/messenger-app/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[]}),void 0);b=a;g["default"]=b}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSContactUtils","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","MessagingFolderTag","Promise","WAJobOrchestratorTypes","promiseDone","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){var f=(k||(k=c("useReStore")))(),g=c("useMWLSMarkThreadAsRead")(e,a.threadKey),l=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey),m=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,["capabilities","capabilities2","contactViewerRelationship","blockedByViewerStatus"]);return d("Int64Hooks").useCallbackInt64(function(){if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(f.tables,a.threadKey,"useMAWMarkThreadAsRead",function(e,f){return a.folderName===c("MessagingFolderTag").SPAM||a.folderName===c("MessagingFolderTag").PENDING?(h||(h=b("Promise"))).resolve():d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(f,m&&d("MAWContactRelationshipType").getContactRelationshipType(m),m?d("LSContactUtils").isContactBlocked(m):!1,m?d("LSContactUtils").isContactRestricted(m):!1,void 0,l,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},[a.folderName,a.authorityLevel,a.threadKey,g,f,m,l])}g["default"]=a}),98);
__d("useMAWToggleSecurePinMessage",["I64","LSFactory","LSOptimisticSetOrUnsetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","asyncToGeneratorRuntime","react","useAsyncReStore","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,e){var g=c("useAsyncReStore")(),h=c("useMWPIsMessagePinned")(a),k=a.offlineThreadingId,l=a.threadKey,m=d("ServerTime").getMillis(),n=c("MessengerWebUXLogger").useInteractionLogger();a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield g),b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(l)));yield a.runInTransaction(function(a){var f=h?c("LSPinnedMessageState").NOT_PINNED:c("LSPinnedMessageState").PINNED,g=h?"unpin_message":"pin_message",j=h?"unpin":"pin";e==="message_dot_menu"?n==null?void 0:n({eventName:g,threadKey:l,threadType:b==null?void 0:b.threadType}):j==="unpin"&&e==="pinned_message_list_dot_menu"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin");return c("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure")(c("LSFactory")(a),{offlineThreadingId:k,state:(i||(i=d("I64"))).of_int32(f),threadKey:l,timestampMs:i.of_int32(m)})},"readwrite",void 0,void 0,f.id+":51")});return function(){return a.apply(this,arguments)}}();return j(a,[g,h,l,m,k,e,n])}g["default"]=a}),98);
__d("useXMAPreviewsDisabledSetting",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":26");return e==null?c("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(e=e==null?void 0:e.e2eeXmaPreviewsDisabled)!=null?e:!1}g["default"]=a}),98);