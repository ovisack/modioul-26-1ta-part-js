;/*FB_PKG_DELIM*/

__d("MWXTypeaheadViewEmptyState.react",["MWXText.react","react","react-strict-dom","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;var e=c("useCometTypeaheadEmptyState")();return e?i.jsx(d("react-strict-dom").html.div,{"aria-live":"polite","aria-selected":!1,"data-testid":void 0,role:"option",style:[j.root,[a]],children:i.jsx(c("MWXText.react"),{color:"tertiary",numberOfLines:1,type:"body3",children:b})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerAIOResharesSearchTargetsArea.react",["fbt","BaseTypeahead.react","CometResharesTypeaheadInputStrategy.react","CometScrollableArea.react","CometTypeaheadLayoutInlineStrategy.react","MAWSecureThreadToggle.react","MWXText.react","MWXTypeaheadViewEmptyState.react","MwbBreadthForwardingLimitReachedBannerShownFalcoEvent","gkx","isArmadillo","qex","react","react-strict-dom","useMWChatSearchClearSearchResults","useTriggerAccessibilityAlert"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useState,n=c("isArmadillo")()&&((e=c("qex")._("272"))!=null?e:!1),o=5,p={input:{marginBottom:"xod5an3",marginEnd:"xktsk01",marginStart:"x1d52u69",marginTop:"x14vqqas",$$css:!0},secureToggle:{marginTop:"x14vqqas",$$css:!0},view:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x16nrsnc",$$css:!0},withTopDivider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"xw7yly9",$$css:!0}},q={forwardBanner:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xio5roz",animationTimingFunction:"xq82lqc",backgroundColor:"xlhe6ec",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x10w6t97",marginStart:"x1d52u69",marginTop:"x1xmf6yo",paddingStart:"x1swvt13",paddingTop:"xyamay9",position:"x10l6tqk",width:"xloyg6u",zIndex:"x1vjfegm",$$css:!0}};function r(a){return j.jsx(c("BaseTypeahead.react"),babelHelpers["extends"]({},a))}r.displayName=r.name+" [from "+f.id+"]";function s(a){return j.jsx(c("BaseTypeahead.react"),babelHelpers["extends"]({},a))}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.areWeSendingToASecureThread,e=a.canForward,f=a.dataSource,g=a.dropSecureThreadToggle,i=a.noSearchResultsText,t=a.placeholder,u=a.renderResults,v=a.setAreWeSendingToASecureThread,w=a.suggestedTargets;a=a.withTopDivider;a=a===void 0?!0:a;var x=m(""),y=x[0];x=x[1];var z=m(!1),A=z[0];z=z[1];var B=c("useMWChatSearchClearSearchResults")();k(function(){B()},[B,b]);var C=l(function(){return function(a){var b=a.entries;a=a.queryString;a=((a=a==null?void 0:a.length)!=null?a:0)>0;if(!a)return j.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:p.view,children:w});return b.length===0?j.jsx(c("MWXTypeaheadViewEmptyState.react"),{children:i}):j.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:p.view,children:u({entries:b})})}},[w,u,i]);g=c("gkx")("3046")?null:g!==!0&&n!==!0&&b!==null&&v?j.jsx(d("react-strict-dom").html.div,{style:p.secureToggle,children:j.jsx(c("MAWSecureThreadToggle.react"),{areWeCreatingASecureThread:b===!0,setAreWeCreatingASecureThread:v,stretch:!0})}):null;v=l(function(){return b===!0?r:s},[b]);var D=h._("__JHASH__kbjsqhPy9o___JHASH__"),E=c("useTriggerAccessibilityAlert")();k(function(){e||E(D)},[e,D,E]);if(!e){A||(c("MwbBreadthForwardingLimitReachedBannerShownFalcoEvent").log(function(){return{limit:o.toString()}}),z(!0));return j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:a&&p.withTopDivider,children:[j.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:q.forwardBanner,children:j.jsx(c("MWXText.react"),{color:"primary",type:"headline3",children:D})}),j.jsx(v,{dataSource:f,inputEndContent:g,isDisabled:!0,onChange:x,queryString:y,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:C,xstyles:{inputXStyle:p.input,viewXStyle_DO_NOT_USE:p.view},inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react")})]})}return j.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:a&&p.withTopDivider,children:j.jsx(v,{dataSource:f,inputEndContent:g,inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:x,placeholder:t,queryString:y,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:C,xstyles:{inputXStyle:p.input,viewXStyle_DO_NOT_USE:p.view}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessengerAIOResharesTargets_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerAIOResharesTargets_nux",selections:[{args:null,kind:"FragmentSpread",name:"useNuxOnce_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("CometMessengerAIOResharesTargets_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerAIOResharesTargets_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerReshareSuggestions_viewer"},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessengerAIOResharesTargets.react",["fbt","CometMessengerAIOResharesSearchTargetsArea.react","CometMessengerAIOResharesTargets_nux.graphql","CometMessengerAIOResharesTargets_viewer.graphql","CometMessengerReshareSuggestions.react","CometMessengerResharesSearchLightspeedDataSource","CometMessengerResharesTypeaheadViewLightspeedListStrategy.react","CometMessengerSecureResharesSuggestionsSection.react","CometRelay","gkx","isTlcSearchEnabled","react","unrecoverableViolation","useNuxOnce"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useMemo,n=e.useState;function a(a){var e,f=a.canForward;a.disableSecureSearch;var g=a.dropSecureThreadToggle,k=a.fromSecureThread,o=a.getTargetAction,p=a.messageID,q=a.viewer,r=a.withTopDivider;a=a.xacDisclosureNux;var s=n(!1),t=s[0];s=s[1];q=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerAIOResharesTargets_viewer.graphql"),q);a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMessengerAIOResharesTargets_nux.graphql"),a);e=q==null?void 0:(e=q.account_user)==null?void 0:e.id;if(q==null||e==null)throw c("unrecoverableViolation")("Need a viewer id and post id in order to share a stor","comet_feed");e=c("isTlcSearchEnabled")();e=d("CometMessengerResharesSearchLightspeedDataSource").useCometMessengerResharesSearchDataSource(30,10,(t||e)&&!g,!t||e,k);k=c("useNuxOnce")(a);var u=k[0],v=k[1];a=m(function(){return function(a){a=a.entries;return l.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategy.react"),{entries:a,getTargetAction:o,isXacNuxVisible:c("gkx")("23418")&&u,logXacNuxViewOnce:v})}},[o,u,v]);return l.jsx(c("CometMessengerAIOResharesSearchTargetsArea.react"),{areWeSendingToASecureThread:t,canForward:f,dataSource:e,dropSecureThreadToggle:g,noSearchResultsText:h._("__JHASH__HQzX7N2r80x__JHASH__"),placeholder:h._("__JHASH__sm0167afdKE__JHASH__"),renderResults:a,setAreWeSendingToASecureThread:s,suggestedTargets:t?l.jsx(c("CometMessengerSecureResharesSuggestionsSection.react"),{getTargetAction:o}):l.jsx(c("CometMessengerReshareSuggestions.react"),{disableSecureThreads:g,getTargetAction:o,messageID:p,viewer:q}),withTopDivider:r})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g["default"]=e}),226);
__d("MWChatForwardDialogQuery.graphql",["MWChatForwardDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[c],e={kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"},f=[{kind:"Literal",name:"first",value:5},e],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],j={alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},k=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[g,h,c,j],storageKey:null},c],storageKey:null}],l={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatForwardDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerResharesTargets_viewer"},{args:null,kind:"FragmentSpread",name:"CometMessengerSecureResharesTargets_viewer"},{args:null,kind:"FragmentSpread",name:"CometMessengerAIOResharesTargets_viewer"},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatForwardDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"broadcast_list_type",value:"WEB"},e],concreteType:"SuggestedRecipientsConnection",kind:"LinkedField",name:"messenger_suggested_recipients",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"section_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:f,concreteType:"SuggestedRecipientsAttachmentsConnection",kind:"LinkedField",name:"attachments_pageable",plural:!1,selections:[{alias:null,args:null,concreteType:"SuggestedRecipientsAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,c,{kind:"TypeDiscriminator",abstractKey:"__isMessengerSearchable"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:k,storageKey:"other_participants(first:3)"},{alias:null,args:null,kind:"ScalarField",name:"is_cm_thread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[h,c],storageKey:null},l],type:"MessengerViewerGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:k,storageKey:"other_participants(first:1)"},l],type:"MessengerViewer1To1Thread",abstractKey:null},{kind:"InlineFragment",selections:[h,j],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:f,filters:["suppress_xac_groups"],handle:"connection",key:"CometMessengerReshareDialogSuggestionsSection_section_attachments_pageable",kind:"LinkedHandle",name:"attachments_pageable"},c,{alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_create_group",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_limited_account",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,c],storageKey:null}],storageKey:null}]},params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useCometForwardIsFBContentForLightSpeed",["ConstUriUtils","I64","ReQL","ReQLSuspense","isFacebookURI","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return a==null||b==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a,b)},[e,b,a],f.id+":27"),j=d("ReQLSuspense").useFirst(function(){var a;return(g==null?void 0:g.defaultCtaId)==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange((a=g==null?void 0:g.defaultCtaId)!=null?a:(h||(h=d("I64"))).zero)},[g==null?void 0:g.defaultCtaId,e],f.id+":37");if((j==null?void 0:j.actionUrl)==null||(j==null?void 0:j.actionUrl)==="")return!1;j=d("ConstUriUtils").getUri(j==null?void 0:j.actionUrl);return j==null?!1:c("isFacebookURI")(j)}g["default"]=a}),98);
__d("useMWTeardownOnMessageDelete",["MWChatDeleteMessageEventEmitter","MWChatMessageId","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.messageID,c=a.onClose;return i(function(){var a=d("MWChatDeleteMessageEventEmitter").subscribe(function(a){var e=d("MWChatMessageId").getMessageId(b);e===a&&c()});return function(){a()}},[b,c])}g["default"]=a}),98);
__d("MWChatForwardDialog.react",["fbt","Actor","CometMessengerResharesTargets.react","CometRelay","LSDatabaseSingleton","MWChatForwardDialogQuery.graphql","MWChatMessageId","MWChatThreadId","MWXDialog.react","MWXDialogHeader.react","MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred","asyncToGeneratorRuntime","cr:11366","cr:1277","gkx","react","recoverableViolation","unrecoverableViolation","useCometForwardIsFBContentForLightSpeed","useMWTeardownOnMessageDelete","useMWXPushErrorToast","useResharesDialogState","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));e=j;var m=e.useCallback,n=e.useMemo;function o(a){return a.targetID}function a(a){var e,f=a.props;a=a.queries;var g=f.dropToggle,j=f.forwardDialogType,p=f.fromSecureThread,q=f.messageID,r=c("useMWXPushErrorToast")(),s=n(function(){if(j==="open_")return c("CometMessengerResharesTargets.react");else if(j==="secure"&&b("cr:11366"))return b("cr:11366");else if(j==="cross_transport"&&b("cr:1277"))return b("cr:1277");else{c("recoverableViolation")("Secure forward not allowed","messenger_web_sharing");return c("CometMessengerResharesTargets.react")}},[j]);a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("MWChatForwardDialogQuery.graphql"),a.forwardQueryReference);a=a==null?void 0:a.viewer;e=a==null?void 0:(e=a.actor)==null?void 0:e.id;var t=d("Actor").useActor();t=t[0];var u=d("MWChatMessageId").getMessageId(q);q=d("MWChatMessageId").getThreadId(q);var v=c("useCometForwardIsFBContentForLightSpeed")(q,u),w=n(function(){return{entry_point:"messenger_forward_dialog",is_forward:!0,sharing_component_name:"facebook_broadcast_flow"}},[]);q=c("useUnifiedShareSheetLogger")();var x=q.onSendMessageButtonInMessengerBCFAttempted,y=q.onSendMessageInMessengerBCFFailed,z=q.onSendMessageInMessengerBCFSuccessful;if(a==null||e==null||t==null)throw c("unrecoverableViolation")("Need a viewer id, actor in order to forward a message","messenger_web_sharing");if(t!==e)throw c("unrecoverableViolation")("Forward in Messenger currently only supports forwarding as the account user","messenger_web_sharing");c("useMWTeardownOnMessageDelete")({messageID:f.messageID,onClose:f.onClose});var A=f.onSend;u=m(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("MaybeUpdateTargetBasedOnODCutoverOrDefaultE2EEDeferred").load());b=(yield b(a,(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton));A(d("MWChatThreadId").fromJs(b));v&&z(babelHelpers["extends"]({},w,{sharing_component_name:"facebook_broadcast_flow"}))});return function(b){return a.apply(this,arguments)}}(),[v,w,A,z]);q=m(function(){r({title:h._("__JHASH__-tYE2PmgwwZ__JHASH__")}),v&&y(babelHelpers["extends"]({},w,{sharing_component_name:"facebook_broadcast_flow"}))},[v,w,y,r]);t=m(function(){v&&x(babelHelpers["extends"]({},w))},[v,w,x]);e=c("useResharesDialogState")({getTargetKey:o,handleError:q,onSendPending:t,sharePost:u,showForwardLimit:!0});q=e.getTargetAction;t=n(function(){return l.jsx(c("MWXDialogHeader.react"),{onClose:f.onClose,title:h._("__JHASH__iux_v9_IGpS__JHASH__"),withCloseButton:!0})},[f.onClose]);return l.jsx(c("MWXDialog.react"),{footer:null,header:t,onClose:f.onClose,size:"small",children:l.jsx(s,{canForward:e.canForward,dropSecureThreadToggle:g===!0||c("gkx")("24071")&&!p,fromSecureThread:p,getTargetAction:q,messageID:f.messageID,viewer:a,withTopDivider:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);