;/*FB_PKG_DELIM*/

__d("CometMessengerReshareDialogSuggestionsSectionPaginationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6002302003140434"}),null);
__d("CometMessengerReshareDialogSuggestionsSectionPaginationQuery.graphql",["CometMessengerReshareDialogSuggestionsSectionPaginationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:5,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"cursor"},d={defaultValue:null,kind:"LocalArgument",name:"id"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"},g=[{kind:"Variable",name:"id",variableName:"id"}],h=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"},{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],m={alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:l,storageKey:null},n=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[i,k,j,m],storageKey:null},j],storageKey:null}],o={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"CometMessengerReshareDialogSuggestionsSectionPaginationQuery",selections:[{alias:null,args:g,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"fetch__MessengerBroadcastSection",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"CometMessengerReshareDialogSuggestionsSectionPaginationFragment_section"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,e,f,d],kind:"Operation",name:"CometMessengerReshareDialogSuggestionsSectionPaginationQuery",selections:[{alias:null,args:g,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"fetch__MessengerBroadcastSection",plural:!1,selections:[{alias:null,args:h,concreteType:"SuggestedRecipientsAttachmentsConnection",kind:"LinkedField",name:"attachments_pageable",plural:!1,selections:[{alias:null,args:null,concreteType:"SuggestedRecipientsAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[i,j,{kind:"TypeDiscriminator",abstractKey:"__isMessengerSearchable"},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:n,storageKey:"other_participants(first:3)"},{alias:null,args:null,kind:"ScalarField",name:"is_cm_thread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[k,j],storageKey:null},o],type:"MessengerViewerGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:n,storageKey:"other_participants(first:1)"},o],type:"MessengerViewer1To1Thread",abstractKey:null},{kind:"InlineFragment",selections:[k,m],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:h,filters:["suppress_xac_groups"],handle:"connection",key:"CometMessengerReshareDialogSuggestionsSection_section_attachments_pageable",kind:"LinkedHandle",name:"attachments_pageable"},j,{alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null}],storageKey:null}]},params:{id:b("CometMessengerReshareDialogSuggestionsSectionPaginationQuery_facebookRelayOperation"),metadata:{},name:"CometMessengerReshareDialogSuggestionsSectionPaginationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMessengerReshareDialogSuggestionsSectionPaginationFragment_section.graphql",["CometMessengerReshareDialogSuggestionsSectionPaginationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["attachments_pageable"],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:5,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"scale"},{kind:"RootArgument",name:"suppress_xac_groups"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["fetch__MessengerBroadcastSection"],operation:b("CometMessengerReshareDialogSuggestionsSectionPaginationQuery.graphql"),identifierInfo:{identifierField:"id",identifierQueryVariableName:"id"}}},name:"CometMessengerReshareDialogSuggestionsSectionPaginationFragment_section",selections:[{alias:"attachments_pageable",args:[{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],concreteType:"SuggestedRecipientsAttachmentsConnection",kind:"LinkedField",name:"__CometMessengerReshareDialogSuggestionsSection_section_attachments_pageable_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"SuggestedRecipientsAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{args:null,kind:"FragmentSpread",name:"CometMessengerReshareTargetRow_thread"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null}],type:"MessengerBroadcastSection",abstractKey:null}}();e.exports=a}),null);
__d("CometMessengerReshareDialogSuggestionsSection_section.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerReshareDialogSuggestionsSection_section",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMessengerReshareDialogSuggestionsSectionPaginationFragment_section"}],type:"MessengerBroadcastSection",abstractKey:null};e.exports=a}),null);
__d("CometMessengerReshareTargetRow_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerReshareTargetRow_thread",selections:[{args:null,kind:"FragmentSpread",name:"useCometMessengerReshareActorImage_thread"},{args:null,kind:"FragmentSpread",name:"useCometMessengerReshareName_thread"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_cm_thread",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},a],type:"MessengerViewerGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"MessengerViewer1To1Thread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}],type:"MessengerSearchable",abstractKey:"__isMessengerSearchable"}}();e.exports=a}),null);
__d("getCometMessengerReshareAction",["fbt","ix","TetraIcon.react","fbicon","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a,b){a=a.targetAction;switch(a.type){case"SEND":return{"aria-label":b!=null?h._("__JHASH__W8JBxEDHAjs__JHASH__",[h._param("receiver",b)]):void 0,label:h._("__JHASH__J-4yTSOjCa0__JHASH__"),onPress:a.trigger,reduceEmphasis:!0,type:"primary-button"};case"UNDO":return{"aria-label":b!=null?h._("__JHASH__fyk8xBZmKXv__JHASH__",[h._param("receiver",b)]):void 0,label:h._("__JHASH__PhEa73mUChr__JHASH__"),onPress:a.trigger,reduceEmphasis:!0,type:"primary-button"};case"OPTIMISTIC_VIEW":return{addOnPrimary:k.jsx(c("TetraIcon.react"),{color:"disabled",icon:d("fbicon")._(i("495078"),16),size:16}),disabled:!0,label:h._("__JHASH__BXM0TtO-K7Q__JHASH__"),reduceEmphasis:!0,type:"primary-button"};case"VIEW":return{addOnPrimary:k.jsx(c("TetraIcon.react"),{color:"disabled",icon:d("fbicon")._(i("495078"),16),size:16}),disabled:!0,label:h._("__JHASH__BXM0TtO-K7Q__JHASH__"),reduceEmphasis:!0,testid:"ReshareActionButtonSent",type:"primary-button"};case"FORWARD_LIMIT":return{disabled:!0,label:h._("__JHASH__J-4yTSOjCa0__JHASH__"),type:"primary-button"};case"ERROR":return{disabled:!0,label:h._("__JHASH__RPWieosZDO7__JHASH__"),type:"primary-button"};default:a.type,c("recoverableViolation")("Got an unexpected reshare target status","comet_feed")}return null}g["default"]=a}),226);
__d("CometMessengerReshareTargetRow.react",["fbt","CometMessengerReshareTargetRow_thread.graphql","CometRelay","FDSText.react","FDSTextWithIcon.react","I64","MAWThreadCutover","MDSLockSvgIcon.react","TetraListCell_DEPRECATED.react","getCometMessengerReshareAction","isTlcSearchEnabled","react","recoverableViolation","useCometMessengerReshareActorImage","useCometMessengerReshareName"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m=c("isTlcSearchEnabled")();function n(a){var b;switch(a.__typename){case"MessengerViewer1To1Thread":return a==null?void 0:(b=a.thread_key)==null?void 0:b.other_user_id;case"MessengerViewerGroupThread":return a==null?void 0:(b=a.thread_key)==null?void 0:b.thread_fbid;case"User":return a==null?void 0:a.id}}function o(a){switch(a){case"User":return"USER";case"MessengerViewer1To1Thread":return"USER";case"MessengerViewerGroupThread":return"GROUP";default:c("recoverableViolation")("Unknown __typename for getDispatchAction messenger dispatch","messenger_web_sharing");break}return null}function a(a){var e,f,g=a.testid;g=a.thread;g=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerReshareTargetRow_thread.graphql"),g);var j=c("useCometMessengerReshareActorImage")(g),p=c("useCometMessengerReshareName")(g),q=n(g),r=d("MAWThreadCutover").useGetCutoverSecureThreadKey(q);e=d("MAWThreadCutover").useIsCutoverSecureThread((k||(k=d("I64"))).of_string_opt((e=r)!=null?e:""));if(p==null)return c("recoverableViolation")("Could not derive a name for this tread","comet_feed");if(j==null)return null;if(q==null)return c("recoverableViolation")("Could not derive enough thread info for this reshare target","comet_feed");var s=o(g.__typename);if(s==null)return c("recoverableViolation")("Could not derive an action button for this reshare target","comet_feed");f={isTargetE2E:g.is_cm_thread===!0?!1:r!=null,targetID:(f=r)!=null?f:q,targetType:s,typeName:r==null?g.__typename:void 0};q=c("getCometMessengerReshareAction")({targetAction:a.getTargetAction(f)},p);return q==null?c("recoverableViolation")("Could not derive an action button for this reshare target","comet_feed"):l.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:j,addOnSecondary:q,headline:p,level:3,meta:m&&r!==void 0&&!e?l.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta4",children:l.jsx(c("FDSTextWithIcon.react"),{iconBefore:l.jsx(c("MDSLockSvgIcon.react"),{color:"black",size:12}),children:h._("__JHASH__6zrqKhEukcl__JHASH__")})}):g.is_cm_thread===!0&&((s=g.associated_group)==null?void 0:s.name)!=null?l.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta3",children:(a=g.associated_group)==null?void 0:a.name}):null,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessengerReshareDialogSuggestionsSection.react",["CometInfiniteScrollSuspenseList.react","CometMessengerReshareDialogSuggestionsSectionPaginationFragment_section.graphql","CometMessengerReshareDialogSuggestionsSection_section.graphql","CometMessengerReshareTargetRow.react","CometProgressRingIndeterminate.react","CometRelay","CometReshareDialogTargetSection.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var e=a.getTargetAction,f=a.section;a=a.shouldPaginate;f=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessengerReshareDialogSuggestionsSection_section.graphql"),f);var g=d("CometRelay").usePaginationFragment(i!==void 0?i:i=b("CometMessengerReshareDialogSuggestionsSectionPaginationFragment_section.graphql"),f),j=g.data.attachments_pageable,m=g.hasNext,n=g.isLoadingNext,o=g.loadNext;g=l(function(){o(5)},[o]);f=f.title;if(f==null||f.text==null){c("recoverableViolation")("Cannot render a target section without a title","comet_feed");return null}if(j==null||j.edges==null||j.edges.length===0)return null;j=j.edges.map(function(a){a=a.node;if(a==null||a.id==null){c("recoverableViolation")("Can't render a Messenger reshare target without an id","comet_feed");return null}return k.jsx(c("CometMessengerReshareTargetRow.react"),{getTargetAction:e,testid:void 0,thread:a},a.id)});return k.jsx(c("CometReshareDialogTargetSection.react"),{sectionTitle:f.text,children:k.jsx(c("CometInfiniteScrollSuspenseList.react"),{hasMore:a&&m,isLoading:n,listGlimmer:k.jsx("div",{className:"x6s0dn4 x78zum5 x10w6t97 xl56j7k x1yztbdb",children:k.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}),onLoadMore:g,children:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerReshareLightspeedTargetRow.react",["fbt","CometHeroInteractionWithDiv.react","FDSText.react","LSMessagingThreadTypeUtil","MAWThreadCutover","MWChatInteraction","MWChatSearchResultType","TetraListCell_DEPRECATED.react","getCometMessengerReshareAction","react","recoverableViolation","useCometMessengerhasDefaultThreadOneToOneCapability","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var b=!1,c=a.threadType;c!=null&&(b=d("LSMessagingThreadTypeUtil").isOneToOne(c));if(a.secondaryImageUrl==null||b)return{alt:a.displayName,shape:"circle",size:40,source:{uri:a.secondaryImageUrl!=null?a.secondaryImageUrl:a.imageUrl},type:"profile-photo"};c={alt:"primary",source:{uri:a.imageUrl}};b={alt:"secondary",source:{uri:a.secondaryImageUrl}};return{primaryPhoto:c,secondaryPhoto:b,size:40,type:"messenger-facepile"}}function m(a){switch(a){case c("MWChatSearchResultType").GROUP:return"GROUP";case c("MWChatSearchResultType").USER:return"USER";default:c("recoverableViolation")("Unknown targettype for getDispatchAction messenger dispatch","messenger_web_sharing");break}return null}function n(a){var b=(i||(i=c("useReStore")))(),e=d("MAWThreadCutover").useIsCutoverSecureThread(a);b=c("useCometMessengerhasDefaultThreadOneToOneCapability")(b,a);return e||b}function a(a){var b,e=a.getTargetAction,f=a.messageID;a=a.thread;var g=l(a),i=m(a.resultType),j=n(a==null?void 0:a.threadKey);if(i==null)return c("recoverableViolation")("Could not derive a targetType for this thread","comet_feed");i={isTargetE2E:a.isE2EE,targetID:a.id,targetType:i};e=e(i);i=c("getCometMessengerReshareAction")({targetAction:e});b=(b=a.isE2EE)!=null?b:!1;g=k.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:g,addOnSecondary:i,headline:a.displayName,level:3,meta:b&&!j?k.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta4",children:h._("__JHASH__4d6usXOsuFo__JHASH__")}):null,testid:void 0});i=null;b="VIEW"===e.type;b&&(f==null?void 0:f.type)==="sent"&&(i=d("MWChatInteraction").get(d("MWChatInteraction").s2sKey((f==null?void 0:f.value.messageId)+"-"+a.id)));return i!=null?k.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:i,pageletName:"Message-s2s",xstyle:!1,children:g}):g}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessengerReshareSuggestions_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"suppress_xac_groups"}],kind:"Fragment",metadata:null,name:"CometMessengerReshareSuggestions_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"broadcast_list_type",value:"WEB"},{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],concreteType:"SuggestedRecipientsConnection",kind:"LinkedField",name:"messenger_suggested_recipients",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"section_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMessengerReshareDialogSuggestionsSection_section"}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_create_group",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometResharesDialogPushPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometMessengerResharesDialogCreateGroupButton.react",["fbt","ix","CometPlaceholder.react","CometResharesDialogPushPageContext","TetraAccessoryListCell_DEPRECATED.react","deferredLoadComponent","fbicon","react","requireDeferred","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext,m=c("deferredLoadComponent")(c("requireDeferred")("CometMessengerCreateGroupDialogContent.react").__setRef("CometMessengerResharesDialogCreateGroupButton.react"));function a(a){var b=a.getTargetAction,e=l(c("CometResharesDialogPushPageContext")),f=function(){e&&e(function(a){var d=a.onReturn;return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(m,{buttonLabel:h._("__JHASH__GVKjkqCeV7R__JHASH__"),onClose:d,onCreateGroup:function(a){d();a=b({isTargetE2E:!1,targetID:a,targetType:"GROUP"});if(a.trigger)a.trigger();else throw c("unrecoverableViolation")("Got an invalid target action type. Trigger should not be null after getting targetaction for group","comet_feed")}})})},{title:h._("__JHASH__HRpQ06MX9tb__JHASH__")})};return e?k.jsx("div",{className:"x14vqqas",children:k.jsx(c("TetraAccessoryListCell_DEPRECATED.react"),{addOnPrimary:{icon:d("fbicon")._(i("943399"),20),size:36,type:"contained-icon"},addOnSecondary:{type:"disclosure"},headline:h._("__JHASH__B6RdVVkv-9N__JHASH__"),onPress:function(){f()}})}):k.jsx(k.Fragment,{children:" "})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessengerResharesLightspeedSuggestions.react",["CometMessengerReshareLightspeedTargetRow.react","CometReshareDialogTargetSection.react","MWChatSearchIssueLightspeedQuery","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=5;function a(a){var b=a.getTargetAction,e=a.messageID;a=k([]);var f=a[0],g=a[1];j(function(){d("MWChatSearchIssueLightspeedQuery").fetchThreadRecommendations().then(function(a){a=a.slice(0,l);g(a)})["catch"](function(){})},[]);a=f.map(function(a){return i.jsx(c("CometMessengerReshareLightspeedTargetRow.react"),{getTargetAction:b,messageID:e,thread:a},a.id)});return i.jsx(c("CometReshareDialogTargetSection.react"),{sectionTitle:"Recent",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerReshareSuggestions.react",["CometMessengerReshareDialogSuggestionsSection.react","CometMessengerReshareSuggestions_viewer.graphql","CometMessengerResharesDialogCreateGroupButton.react","CometMessengerResharesLightspeedSuggestions.react","CometRelay","isTlcSearchEnabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=a.disableSecureThreads,g=a.getTargetAction,i=a.messageID;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessengerReshareSuggestions_viewer.graphql"),a);var k=(e=(e=a.messenger_suggested_recipients)==null?void 0:e.nodes)!=null?e:[],l=c("isTlcSearchEnabled")()&&!f;return j.jsxs(j.Fragment,{children:[a.can_create_group===!0&&j.jsx(c("CometMessengerResharesDialogCreateGroupButton.react"),{getTargetAction:g}),k.map(function(a,b){var d=l&&a.section_type==="RECENTS";return d?j.jsx(c("CometMessengerResharesLightspeedSuggestions.react"),{getTargetAction:g,messageID:i},a.section_type):j.jsx(c("CometMessengerReshareDialogSuggestionsSection.react"),{getTargetAction:g,section:a,shouldPaginate:b===k.length-1},a.section_type)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerResharesTargets_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerResharesTargets_nux",selections:[{args:null,kind:"FragmentSpread",name:"useNuxOnce_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("CometMessengerResharesTargets_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerResharesTargets_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerReshareSuggestions_viewer"},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_limited_account",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessengerResharesTypeaheadViewLightspeedListStrategyRow.react",["fbt","BaseMiddot.react","FDSText.react","I64","LSMessagingThreadTypeUtil","MAWThreadCutover","MWChatSearchResultType","TetraListCell_DEPRECATED.react","getCometMessengerReshareAction","react","unrecoverableViolation","useCometMessengerhasDefaultThreadOneToOneCapability","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function m(a){var b=a.displayName,c=a.imageUrl,e=a.secondaryImageUrl,f=a.serverSearchResult;a=a.threadType;var g=!1;a&&(g=d("LSMessagingThreadTypeUtil").isOneToOne(a));return e===""||g?{alt:b,shape:(f==null?void 0:f.communityId)!=null?"roundedRect":"circle",size:40,source:{uri:e!==""?e:c},type:"profile-photo"}:{primaryPhoto:{alt:b,source:{uri:c}},secondaryPhoto:{alt:b,source:{uri:e}},size:40,type:"messenger-facepile"}}function n(a){switch(a){case c("MWChatSearchResultType").USER:return"USER";case c("MWChatSearchResultType").PAGE:return"PAGE";case c("MWChatSearchResultType").GROUP:return"GROUP";default:throw c("unrecoverableViolation")("Got an unexpected resultType:"+a,"comet_feed")}}function o(a){var b=(i||(i=c("useReStore")))(),e=d("MAWThreadCutover").useIsCutoverSecureThread(a);b=c("useCometMessengerhasDefaultThreadOneToOneCapability")(b,a);return e||b}function a(a){var b=a.entry.rawData;a=a.getTargetAction;var e=b.displayName,f=b.id,g=b.isE2EE,i=b.isInstagramAccount,k=b.isInteropEligible,p=b.resultType,q=b.section,r=b.subtext;p=n(p);a=c("getCometMessengerReshareAction")({targetAction:a({isTargetE2E:g,targetID:f,targetType:p})});p=o((j||(j=d("I64"))).of_string_opt(f));g&&!p?p=l.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta4",children:h._("__JHASH__4d6usXOsuFo__JHASH__")}):p=r&&r!==""?l.jsxs(c("FDSText.react"),{numberOfLines:1,type:"meta4",children:[r,(q==null||q==="")&&Boolean(i)?l.jsxs(l.Fragment,{children:[l.jsx(c("BaseMiddot.react"),{}),"Instagram"]}):null]}):null;r="messenger_reshare_row_"+f+"  messenger_reshare_row"+(g?"_e2ee":"");return l.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:m(b),addOnSecondary:a,disabled:i===!0&&k===!1,headline:e,level:3,meta:p,testid:void 0},f)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessengerResharesTypeaheadXacDisclosure.react",["fbt","TetraListCell_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("TetraListCell_DEPRECATED.react"),{body:h._("__JHASH__jQLQDXnNHyA__JHASH__"),headline:h._("__JHASH__yq4TlLY2wD4__JHASH__"),level:4},"xacheadline")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessengerResharesTypeaheadViewLightspeedListStrategy.react",["CometMessengerResharesTypeaheadViewLightspeedListStrategyRow.react","CometMessengerResharesTypeaheadXacDisclosure.react","CometReshareDialogTargetSection.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.entries,d=a.getTargetAction,e=a.isXacNuxVisible,f=a.logXacNuxViewOnce;a.showContactsSection;a.showMorePeopleSection;a=new Map();var g=null;for(var b=b,h=Array.isArray(b),k=0,b=h?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l,m;if(h){if(k>=b.length)break;m=b[k++]}else{k=b.next();if(k.done)break;m=k.value}m=m;var n=m.rawData;l=(l=n.section)!=null?l:"";g==null&&l!==""&&Boolean(n.isInstagramAccount)&&(g=l);n=(n=a.get(l))!=null?n:[];n.push(m);a.set(l,n)}var o=g!==null;j(function(){e&&o&&f()},[e,o,f]);return i.jsx(i.Fragment,{children:Array.from(a.entries()).map(function(a,b){var f=a[0];a=a[1];if(a.length===0)return null;var h=[];e&&g===f&&h.push(i.jsx(c("CometMessengerResharesTypeaheadXacDisclosure.react"),{},"CometMessengerResharesTypeaheadXacDisclosure"));h.push.apply(h,a.map(function(a){return i.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategyRow.react"),{entry:a,getTargetAction:d},a.key)}));return i.jsx(c("CometReshareDialogTargetSection.react"),{sectionTitle:f,children:h},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerResharesTargets.react",["fbt","CometMessengerReshareSuggestions.react","CometMessengerResharesSearchLightspeedDataSource","CometMessengerResharesTargets_nux.graphql","CometMessengerResharesTargets_viewer.graphql","CometMessengerResharesTypeaheadViewLightspeedListStrategy.react","CometRelay","CometResharesSearchTargetsArea.react","gkx","isTlcSearchEnabled","react","unrecoverableViolation","useNuxOnce"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useMemo;function a(a){var e=a.canForward,f=a.disableSecureSearch,g=a.dropSecureThreadToggle;a.fromSecureThread;var k=a.getTargetAction,n=a.isViewFixedHeight;a.messageID;var o=a.viewer,p=a.withTopDivider;a=a.xacDisclosureNux;o=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerResharesTargets_viewer.graphql"),o);var q=c("gkx")("24222"),r=o==null?void 0:o.is_limited_account,s=r===!1||q;r=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMessengerResharesTargets_nux.graphql"),a);a=o==null?void 0:(q=o.account_user)==null?void 0:q.id;if(o==null||a==null)throw c("unrecoverableViolation")("Need a viewer id and post id in order to share a stor","comet_feed");q=d("CometMessengerResharesSearchLightspeedDataSource").useCometMessengerResharesSearchDataSource(30,10,f==null?c("isTlcSearchEnabled")():!f,!0);a=c("useNuxOnce")(r);var t=a[0],u=a[1];f=m(function(){return function(a){a=a.entries;return l.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategy.react"),{entries:a,getTargetAction:k,isXacNuxVisible:c("gkx")("23418")&&t,logXacNuxViewOnce:u,showContactsSection:s,showMorePeopleSection:s})}},[k,t,s,u]);return l.jsx(c("CometResharesSearchTargetsArea.react"),{canForward:e,dataSource:q,dropSecureThreadToggle:g,isViewFixedHeight:n,noSearchResultsText:h._("__JHASH__HQzX7N2r80x__JHASH__"),placeholder:h._("__JHASH__sm0167afdKE__JHASH__"),renderResults:f,suggestedTargets:l.jsx(c("CometMessengerReshareSuggestions.react"),{disableSecureThreads:g,getTargetAction:k,viewer:o}),withTopDivider:p})}a.displayName=a.name+" [from "+f.id+"]";e=l.memo(a);g["default"]=e}),226);
__d("useMWLSGetThreadParticipantsByThreadID",["I64","MWPActor.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=(h||(h=d("I64"))).of_string(a);return d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(b.tables.participants,[]).getKeyRange(g),d("ReQL").fromTableAscending(b.tables.contacts,["name","id","firstName","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).filter(function(a){a[0];a=a[1];if(a!=null)return!(h||(h=d("I64"))).equal(a.id,e);else return!1}).map(function(a){a[0];a=a[1];if(a==null)return;var b=a.firstName,d=c("getLSMediaContactProfilePictureUrl")(a);if(b!=null&&d!=="")return{firstName:b,name:a.name,profilePictureUrl:d}})},[e,b,g],f.id+":31")}g["default"]=a}),98);
__d("CometMessengerSecureReshareTargetRow.react",["fbt","FDSText.react","FDSTextWithIcon.react","MDSLockSvgIcon.react","TetraListCell_DEPRECATED.react","filterNulls","getCometMessengerReshareAction","intlList","react","recoverableViolation","unrecoverableViolation","useMWLSGetThreadParticipantsByThreadID"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){switch(a){case"USER":return"USER";case"GROUP":return"GROUP";default:c("recoverableViolation")("Unknown threadTargetType for getDispatchAction messenger dispatch","messenger_web_sharing");break}return null}function l(a,b){var c=a.threadPictureUrl;a=a.threadName;if(b.length===0)return null;if(b.length===1||c!=null){var d=b[0];return{alt:(a=a)!=null?a:d.name,shape:"circle",size:40,source:{uri:(a=c)!=null?a:d.profilePictureUrl},type:"profile-photo"}}c=b.map(function(a){var b=a.name;a=a.profilePictureUrl;return{alt:b,source:{uri:a}}});a=c[0];d=c[1];return{primaryPhoto:a,secondaryPhoto:d,size:40,type:"messenger-facepile"}}function a(a){var b=a.getTargetAction,d=a.secureThread;a=a.testid;a=d.threadKey;var e=k(d.threadTargetType);if(a==null)throw c("unrecoverableViolation")("Could not derive enough thread info for this reshare target","comet_feed");var f=c("useMWLSGetThreadParticipantsByThreadID")(a),g=l(d,c("filterNulls")(f));if(g==null)return null;if(e==null)return c("recoverableViolation")("Could not derive an action button for this reshare target","comet_feed");a={targetID:a.toString(),targetType:e};e=c("getCometMessengerReshareAction")({targetAction:b(a)});if(e==null)return c("recoverableViolation")("Could not derive an action button for this reshare target","comet_feed");a=f.length===1?(b=f[0])==null?void 0:b.name:c("intlList")(f.map(function(a){return a==null?void 0:a.firstName}));f=(b=d.threadName)!=null?b:a;return f==null?c("recoverableViolation")("Could not derive a name for this thread","comet_feed"):j.jsx(c("TetraListCell_DEPRECATED.react"),{addOnPrimary:g,addOnSecondary:e,headline:f,level:3,meta:j.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta4",children:j.jsx(c("FDSTextWithIcon.react"),{iconBefore:j.jsx(c("MDSLockSvgIcon.react"),{color:"black",size:12}),children:h._("__JHASH__6zrqKhEukcl__JHASH__")})}),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMAWRecentSecureThreads",["I64","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))();return d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).filter(function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)}).take(20).map(function(a){var b=a.threadType;return{threadKey:(h||(h=d("I64"))).to_string(a.threadKey),threadName:a.threadName,threadPictureUrl:c("getLSMediaThreadPictureUrl")(a),threadTargetType:d("LSMessagingThreadTypeUtil").isOneToOne(b)?"USER":d("LSMessagingThreadTypeUtil").isGroup(b)?"GROUP":void 0}})},[a])}g["default"]=a}),98);
__d("CometMessengerSecureResharesSuggestionsSection.react",["CometMessengerSecureReshareTargetRow.react","CometReshareDialogTargetSection.react","react","recoverableViolation","useMAWRecentSecureThreads"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.getTargetAction;a=c("useMAWRecentSecureThreads")();a=a.map(function(a){if(a==null||a.threadKey==null){c("recoverableViolation")("Can't render a Messenger reshare target without an id","comet_feed");return null}return i.jsx(c("CometMessengerSecureReshareTargetRow.react"),{getTargetAction:b,secureThread:a,testid:void 0},a.threadKey)});return i.jsx(c("CometReshareDialogTargetSection.react"),{sectionTitle:"Recent Secure",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerSecureResharesTargets_nux.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerSecureResharesTargets_nux",selections:[{args:null,kind:"FragmentSpread",name:"useNuxOnce_nux"}],type:"DefaultNUX",abstractKey:null};e.exports=a}),null);
__d("CometMessengerSecureResharesTargets_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerSecureResharesTargets_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometResharesTypeaheadInputStrategy.react",["MWXIconMagnifyingGlass","MWXIconStrict.react","MWXRoundedTextInput.react","cometTypeaheadInputWebkitStyles","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",width:"xh8yej3",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=a.ariaProps;a.autoFocus;a.description;a.errorMessage;a.id;var f=a.inputEndContent,g=a.inputExtraProps,h=a.inputStartContent,k=a.isDisabled,l=a.label;l=l===void 0?"":l;var m=a.onChange,n=a.queryString,o=a.testid;o=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","autoFocus","description","errorMessage","id","inputEndContent","inputExtraProps","inputStartContent","isDisabled","label","onChange","queryString","testid"]);return i.jsxs(d("react-strict-dom").html.div,{style:j.root,children:[h,i.jsx(c("MWXRoundedTextInput.react"),babelHelpers["extends"]({},o,{"aria-describedby":e["aria-describedby"],"aria-expanded":e["aria-expanded"],"aria-label":e["aria-label"],autoComplete:"off",disabled:k,icon:i.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconMagnifyingGlass"),size:16}),label:l,onValueChange:m,ref:b,spellCheck:!1,testid:void 0,type:"search",value:n,xstyle:[g==null?void 0:g.xstyle,c("cometTypeaheadInputWebkitStyles")["default"]]})),f]})}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("CometSecureResharesSearchTargetsArea.react",["fbt","BaseTypeahead.react","CometResharesTypeaheadInputStrategy.react","CometScrollableArea.react","CometTypeaheadLayoutInlineStrategy.react","CometTypeaheadViewEmptyState.react","FDSText.react","MwbBreadthForwardingLimitReachedBannerShownFalcoEvent","react","stylex","useMWChatSearchClearSearchResults","useTriggerAccessibilityAlert"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useMemo,n=b.useState,o=5,p={input:{marginBottom:"xod5an3",marginEnd:"xktsk01",marginStart:"x1d52u69",marginTop:"x14vqqas",$$css:!0},view:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"x16nrsnc",$$css:!0},withTopDivider:{borderTop:"x1n2xptk",marginTop:"xw7yly9",$$css:!0}};function q(a){return k.jsx(c("BaseTypeahead.react"),babelHelpers["extends"]({},a))}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.areWeCreatingASecureThread,d=a.canForward,e=a.dataSource,f=a.noSearchResultsText,g=a.placeholder,j=a.renderResults;a.setAreWeCreatingASecureThread;var r=a.suggestedTargets;a=a.withTopDivider;a=a===void 0?!0:a;var s=n(""),t=s[0];s=s[1];var u=n(!1),v=u[0];u=u[1];var w=c("useMWChatSearchClearSearchResults")();l(function(){w()},[w,b]);b=m(function(){return function(a){var b=a.entries;a=a.queryString;a=((a=a==null?void 0:a.length)!=null?a:0)>0;if(!a)return k.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:p.view,children:r});return b.length===0?k.jsx(c("CometTypeaheadViewEmptyState.react"),{children:f}):k.jsx(c("CometScrollableArea.react"),{horizontal:!1,xstyle:p.view,children:j({entries:b})})}},[r,j,f]);var x=h._("__JHASH__2Sfn9783oOv__JHASH__"),y=c("useTriggerAccessibilityAlert")();l(function(){d||y(x)},[d,x,y]);if(!d){v||(c("MwbBreadthForwardingLimitReachedBannerShownFalcoEvent").log(function(){return{limit:o.toString()}}),u(!0));return k.jsxs("div",{className:(i||(i=c("stylex")))(a&&p.withTopDivider),"data-testid":void 0,children:[k.jsx("div",{className:"x5hsz1j x10e4vud x1v7wizp xio5roz xq82lqc xlhe6ec x1lq5wgf xgqcy7u x30kzoy x9jhf4c x10w6t97 x1d52u69 x1xmf6yo x1swvt13 xyamay9 x10l6tqk xloyg6u x1vjfegm","data-testid":void 0,children:k.jsx(c("FDSText.react"),{color:"primary",type:"headline3",children:x})}),k.jsx(q,{dataSource:e,inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),isDisabled:!0,layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:s,queryString:t,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:b,xstyles:{inputXStyle:p.input,viewXStyle_DO_NOT_USE:p.view}})]})}return k.jsx("div",{className:(i||(i=c("stylex")))(a&&p.withTopDivider),"data-testid":void 0,children:k.jsx(q,{dataSource:e,inputStrategyRenderer:c("CometResharesTypeaheadInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:s,placeholder:g,queryString:t,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:b,xstyles:{inputXStyle:p.input,viewXStyle_DO_NOT_USE:p.view}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometMessengerSecureResharesTargets.react",["fbt","CometMessengerResharesTypeaheadViewLightspeedListStrategy.react","CometMessengerSecureResharesSuggestionsSection.react","CometMessengerSecureResharesTargets_nux.graphql","CometMessengerSecureResharesTargets_viewer.graphql","CometRelay","CometSecureResharesSearchTargetsArea.react","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedDataSource","MWLSSearchIssueSearchQuerySupportedTypes","MWLSThreadDisplayContext","RelayHooks","gkx","react","unrecoverableViolation","useNuxOnce"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useMemo;function a(a){var e,f=a.canForward;a.disableSecureSearch;a.dropSecureThreadToggle;a.fromSecureThread;var g=a.getTargetAction;a.messageID;var k=a.viewer,n=a.withTopDivider;a=a.xacDisclosureNux;var o=d("RelayHooks").useRelayEnvironment();k=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerSecureResharesTargets_viewer.graphql"),k);a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMessengerSecureResharesTargets_nux.graphql"),a);e=k==null?void 0:(e=k.actor)==null?void 0:e.id;if(k==null||e==null)throw c("unrecoverableViolation")("Need a viewer id and post id in order to share a stor","comet_feed");var p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();k=m(function(){return new(c("MWChatSearchTypeaheadLightspeedDataSource"))({excludedIDs:[],excludeNonSecureThreadSearch:!0,includeGroupSearch:p!=="ChatTab",includeRecommendations:!1,lightspeedSupportedTypes:d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes,limit:20,relayEnvironment:o,source:c("MWChatSearchSurfaces").universal})},[o,p]);e=c("useNuxOnce")(a);var q=e[0],r=e[1];a=m(function(){return function(a){a=a.entries;return l.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategy.react"),{entries:a,getTargetAction:g,isXacNuxVisible:c("gkx")("23418")&&q,logXacNuxViewOnce:r})}},[g,q,r]);return l.jsx(c("CometSecureResharesSearchTargetsArea.react"),{areWeCreatingASecureThread:!0,canForward:f,dataSource:k,noSearchResultsText:h._("__JHASH__HQzX7N2r80x__JHASH__"),placeholder:h._("__JHASH__sm0167afdKE__JHASH__"),renderResults:a,suggestedTargets:l.jsx(c("CometMessengerSecureResharesSuggestionsSection.react"),{getTargetAction:g}),withTopDivider:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useResharesDialogState_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useResharesDialogState_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("useResharesDialogState",["fbt","CometRelay","CometResharesConstants","DeferredDraftEditorDEPRECATED.react","asyncToGeneratorRuntime","cometPushToast","getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE","getShouldSendPrivateGroupShareAutoInvite","react","unrecoverableViolation","useGroupAddMembersWithUserIdParamMutation","useResharesDialogState_group.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=j||d("react");var k=e.useCallback,l=e.useMemo,m=e.useRef,n=e.useState,o=5;function p(a){a=n(a);var b=a[0],c=a[1],d=m(b);a=k(function(a){d.current=a,c(a)},[]);return[b,a,d]}function q(a){d("cometPushToast").cometPushToast({message:a})}function a(a){var e,f=a.getTargetKey,g=a.groupKey,j=a.handleError,m=a.onSendPending,n=a.onUndoShare,r=a.sharePost,s=a.showForwardLimit;a=p(function(){return{count:0,countSent:0,editorState:c("DeferredDraftEditorDEPRECATED.react").createEmptyComposerState(),targets:new Map()}});var t=a[0],u=a[1],v=a[2],w=d("CometRelay").useFragment(i!==void 0?i:i=b("useResharesDialogState_group.graphql"),g),x=k(function(a){var b=v.current,c=b.targets.get(f(a));if(c==null||c.type!=="PENDING")return;c.cancel();n&&n();u(babelHelpers["extends"]({},b,{targets:new Map(b.targets.set(f(a),null))}));u(babelHelpers["extends"]({},b,{count:Math.max(b.count-1,0)}))},[f,u,v,n]),y=k(function(a){var e=v.current,g=e.editorState,h=c("getPlainTextFromDeferredDraftEditorState_DEPRECATED_DO_NOT_USE")(g),i=window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=v.current;u(babelHelpers["extends"]({},b,{targets:new Map(b.targets.set(f(a),{type:"SENDING"}))}));try{yield r(a,h);b=v.current;u(babelHelpers["extends"]({},b,{countSent:b.countSent+1,targets:new Map(b.targets.set(f(a),{type:"SENT"}))}))}catch(c){j({error:c});b=v.current;u(babelHelpers["extends"]({},b,{targets:new Map(b.targets.set(f(a),{type:"ERROR"}))}))}}),d("CometResharesConstants").UNDO_DELAY_MS);g=function(){window.clearTimeout(i)};m&&m();u(babelHelpers["extends"]({},e,{targets:new Map(e.targets.set(f(a),{cancel:g,startTime:Date.now(),type:"PENDING"}))}));u(babelHelpers["extends"]({},e,{count:e.count+1}))},[v,m,u,f,r,j]);a=l(function(){return new Set()},[]);g=k(function(a){var b;b=[].concat((b=a==null?void 0:(b=a.group_add_member)==null?void 0:b.added_users)!=null?b:[],(a=a==null?void 0:(b=a.group_add_member)==null?void 0:b.requested_users)!=null?a:[]);a=(a=b==null?void 0:b.length)!=null?a:0;a===1?b[0].name!=null&&q(h._("__JHASH__Mw9bAnsRPPt__JHASH__",[h._param("first invitee name",b[0].name)])):a>1&&(b[0].name!=null&&q(h._("__JHASH__UC_-q99Ua9I__JHASH__",[h._param("first invitee name",b[0].name),h._param("invitee count",b.length)])))},[]);var z=c("useGroupAddMembersWithUserIdParamMutation")((e=w==null?void 0:w.id)!=null?e:"",a,"share_messenger",g);e=k(function(a){var b=f(a),d=t.targets.get(b);if(d==null){if(s===!0&&t.count>=o)return{type:"FORWARD_LIMIT"};var e=w==null?void 0:w.visibility;return{trigger:function(){c("getShouldSendPrivateGroupShareAutoInvite")()?(y(a),(e==="CLOSED"||e==="SECRET")&&(w==null?void 0:w.id)!=null&&z(new Set([b]))):y(a)},type:"SEND"}}switch(d.type){case"PENDING":return{startTime:d.startTime,trigger:function(){return x(a)},type:"UNDO"};case"SENDING":return{type:"OPTIMISTIC_VIEW"};case"SENT":return{type:"VIEW"};case"ERROR":return{type:"ERROR"};default:d.type;throw c("unrecoverableViolation")("Got an invalid target action type. Flow should have caught this.","comet_feed")}},[f,t.targets,t.count,y,x,s,z,w==null?void 0:w.id,w==null?void 0:w.visibility]);a=function(a){u(babelHelpers["extends"]({},t,{editorState:a}))};return{canForward:t.countSent<o,editorState:t.editorState,getTargetAction:e,setEditorState:a}}g["default"]=a}),226);