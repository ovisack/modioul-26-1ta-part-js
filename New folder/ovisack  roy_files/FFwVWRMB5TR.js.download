;/*FB_PKG_DELIM*/

__d("LSDeleteThenInsertAggregatedUserPresenceCountsForCommunity",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(203).put({folderId:a[0],numActiveMembers:a[1],activeMembersNumExpirationTimestampMilliseconds:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCommunitiesMessagingPresenceDeleteThenInsertAggregatedUserPresenceCountsForCommunityStoredProcedure";e.exports=a}),null);
__d("LSUpdateFilteredThreadsRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(247).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.parentThreadKey,a[1])&&b.i64.eq(c.threadRangeFilter,a[2])&&b.i64.eq(c.secondaryThreadRangeFilter,a[7])&&c.threadRangeFilterValue===a[8]}),function(a){return a["delete"]()})},function(c){return b.db.table(247).add({minLastActivityTimestampMs:a[3],minThreadKey:a[4],parentThreadKey:a[1],folderName:a[0],threadRangeFilter:a[2],secondaryThreadRangeFilter:a[7],threadRangeFilterValue:a[8],maxLastActivityTimestampMs:b.i64.cast([0,1]),maxThreadKey:b.i64.cast([-2147483648,0]),isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:b.i64.gt(a[3],b.i64.cast([0,1]))&&b.i64.gt(a[4],b.i64.cast([-2147483648,0])),hasMoreAfter:!1,syncGroup:a[6]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateFilteredThreadsRangesStoredProcedure";e.exports=a}),null);
__d("LSUpsertCommunityFolderTtrc",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxUpsertCommunityFolderTtrcStoredProcedure";e.exports=a}),null);
__d("LSVerifyCommunityFolderExists",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.neq(a[1],void 0)?c.sequence([function(b){return c.db.table(162).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=!0:(b=a.item,c.sequence([function(a){return c.db.table(9).fetch([[[b.folderId]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[4]=!0:(a.item,d[4]=!1)})},function(a){return d[2]=d[4]}]))})},function(a){return d[0]=d[2]}]):c.sequence([function(b){return c.db.table(162).fetch([[[a[0]]],"byFbGroupId"]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=!0:(b=a.item,c.sequence([function(a){return c.db.table(9).fetch([[[b.folderId]]]).next().then(function(a,b){b=a.done;a=a.value;return b?d[4]=!0:(a.item,d[4]=!1)})},function(a){return d[2]=d[4]}]))})},function(a){return d[0]=d[2]}])},function(e){return!1!==void 0?d[1]=!1:d[1]=!1,d[0]||d[1]?(d[2]=new c.Map(),d[2].set("fb_group_id",a[0]),d[2].set("folder_id",a[1]),d[3]=d[2].get("fb_group_id"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),c.i64.to_string(d[3]),c.i64.cast([0,420]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyCommunityFolderExistsStoredProcedure";e.exports=a}),null);
__d("LSVerifyCommunityFolderExistsStoredProcedure",["LSVerifyCommunityFolderExists","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.fbGroupId;d[1]=b.folderId;return c("LSVerifyCommunityFolderExists").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("XCometGroupChatsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/chats/",Object.freeze({iv:!1,cd:!1}),void 0);b=a;g["default"]=b}),98);
__d("useMWCMVerifyFolderExists",["I64","LSFactory","LSVerifyCommunityFolderExistsStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=(h||(h=c("useReStore")))(),e=l(!1);k(function(){!e.current&&a!=null&&(e.current=!0,c("promiseDone")(b.runInTransaction(function(b){return c("LSVerifyCommunityFolderExistsStoredProcedure")(c("LSFactory")(b),{fbGroupId:(i||(i=d("I64"))).of_string(a)})},"readwrite",void 0,void 0,f.id+":27")))},[b,a,e])}g["default"]=a}),98);